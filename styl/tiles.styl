.col
	float left
	width grid-tile-width + grid-gutter
	&:last-of-type .tile
		left auto
		right 0
	.tile-wrapper:last-of-type .tile
		bottom 0
		top auto

.tile-wrapper
	@extend .a-slide-down
	border grid-gutter * .5 solid transparent
	float left
	height grid-tile-height + grid-gutter
	position relative
	transition transition-duration all
	width grid-tile-width + grid-gutter
	&, *
		box-sizing border-box
	*
		margin 0
		padding 0
	&:hover
		border-color linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, .1))

.tile
	@extend .f-base
	@extend .zi-1
	@extend .a-zoom-in
	background #fff
	border-radius border-radius
	color color
	cursor pointer
	height grid-tile-height
	left 0
	padding tile-header-height 0 tile-footer-height
	position absolute
	top 0
	width grid-tile-width
	if use-transitions
		transition all transition-duration
	if use-transforms
		&:hover
			@extend .zi-3
			transform scale(1.1, 1.1)
	p
		margin-bottom tile-padding
	a
		text-decoration none
		if use-transitions
			transition all transition-duration
		&:hover
			text-decoration underline
	::selection
		background color-selection
.tile-wide
	width grid-tile-width-wide
.tile-content
	padding tile-padding
.tile-header
.tile-content
.tile-footer
	border-style solid
	if use-transitions
		transition all transition-duration
.tile-header
.tile-footer
	position absolute
	width 100%

// Tile Header
// ------------------------------------------------------------
.tile-header
	@extend .ff-head
	@extend .lh-base
	background color
	border-radius border-radius border-radius 0 0
	border-width tile-header-border tile-header-border 0
	left 0
	color color-inverse
	height tile-header-height
	padding tile-header-padding
	top 0
	a, a:hover
		color color-gray-lightest
	.icon
		opacity .5
		height 100%
		position absolute
		right tile-padding
		top tile-padding * -1.2
.tile-avatar
	@extend .u-block
	border-bottom 1px solid rgba(0, 0, 0, .5)
	border-radius border-radius
	left 0
	height tile-avatar-height
	position absolute
	top 0
	width tile-avatar-width
	img
		height 100%
		width 100%
.tile-author
	@extend .u-center-vertical
	@extend .u-block
	@extend .fs-larger
	color #fff !important
	padding-left tile-padding
	// add right padding for the icons
	padding-right tile-avatar-width
	.has-profile-image &
		padding-left tile-avatar-width + tile-padding
	time
		@extend .fs-small
		@extend .fw-light
		display block
		opacity .6
.tile-author-name
	@extend .u-ellipsis
	@extend .fs-larger

// Tile Content
// ------------------------------------------------------------
.tile-content
	@extend .f-base
	background tile-content-bg
	border-width tile-content-border
	height 100%
	margin tile-content-margin
	padding tile-content-padding
	if tile-content-spacing and border-radius
		border-radius border-radius
.tile-text
	height 100%
	overflow hidden

// Tile Footer
// ------------------------------------------------------------
.tile-footer
	@extend .fs-smaller
	background tile-content-bg
	border-radius 0 0 border-radius border-radius
	border-width tile-footer-border
	border-top 0
	bottom 0
	height tile-footer-height
	line-height tile-footer-height
	position relative
	margin 0 tile-padding * 2
	width grid-tile-width - tile-padding * 4 - border-width * 2
	&:before
		background linear-gradient(transparent, white)
		content ' '
		top (tile-content-fader-height + tile-footer-border) * -1
		display block
		height tile-content-fader-height
		left 0
		position absolute
		width 100%
	a
		color rgba(255, 255, 255, .7)
		&:hover
			color rgba(255, 255, 255, 1)

// Expanded tiles
// ------------------------------------------------------------
.is-expanded
	@extend .zi-2
	height grid-tile-height * 2 + grid-gutter
	.on-expand
		opacity 1
.on-expand
	opacity 0
	transition all transition-duration

use-light-footer = true

// Post source colors
// ------------------------------------------------------------
tile-type(color)
	border border-width solid color
	.tile-header
		background-color color
		border-color darken(color, tile-bg-shade)
	&:hover
		.tile-header
			background-color darken(color, tile-bg-shade)
	.tile-content
		border-color darken(color, tile-bg-shade)
		&:before
			border-bottom-color darken(color, tile-bg-shade + 0%)
	.tile-content
	.tile-footer
		a
			color darken(color, tile-bg-shade)
			&:hover
				color lighten(color, tile-bg-shade)
	if use-light-footer
		.tile-content
		.tile-footer
			border 0
		.tile-footer
			border-top 1px solid rgba(color, .3)
	if use-gradient
		.tile-header
			background-image linear-gradient(color, 95% darken(color, tile-bg-shade), 100% darken(color, tile-bg-shade + 8%))
.tile--facebook
	tile-type(color-facebook)
.tile--twitter
	tile-type(color-twitter)
.tile--gplus
	tile-type(color-gplus)
.tile--linkedin
	tile-type(color-linkedin)
.tile--rss
	tile-type(color-rss)

// Media tiles
// ------------------------------------------------------------
.has-media
	background #000
	if border-width
		border border-width solid #333
	else
		border 1px solid #333
	overflow hidden
	a
		color #fff
	.tile-header
	.tile-text
	.tile-footer
		@extend .zi-3
		color rgba(255, 255, 255, .8)
		border 0
		if use-transitions
			transition margin 300ms
	.tile-header
	.tile-text
		background rgba(0, 0, 0, .5)
	.tile-header
		margin-top -100%
	.tile-content
		position static
	.tile-text
		@extend .a-marquee
		animation-play-state paused
		bottom 0
		left 0
		height 0
		line-height tile-footer-height
		margin-bottom tile-footer-height * -1
		overflow hidden
		position absolute
		width 1000px
	.tile-footer
		background transparent
		bottom tile-footer-height * -1
		margin 0
		padding 0 !important
		width 100%
		&:before
			display none
		a
			background rgba(0, 0, 0, 1)
			padding 0 tile-padding * 2
	&.is-expanded
		width grid-tile-width * 2 + grid-gutter
	&:hover
		.tile-text
			animation-play-state running
			height tile-footer-height
			margin-bottom 0
		.tile-header
			margin-top 0
		&.is-expanded
			.tile-footer
				bottom 0
.tile-media
	@extend .zi-1
	bottom 0
	left 0
	margin auto
	position absolute
	right 0
	top 0
	width 100%

if use-arrow
	.tile-content
		position relative
		&:after
		&:before
			bottom 100%
			left tile-avatar-width * .5
			border solid transparent
			content " "
			height 0
			width 0
			position absolute
			pointer-events none
		&:after
			border-color transparent
			border-bottom-color tile-content-bg
			border-width arrow-size
			margin-left arrow-size * -1
		&:before
			border-color transparent
			border-width arrow-size + border-width
			margin-left (arrow-size + border-width) * -1
